<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Speed Reader - ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap">
    <style>
        :root {
            --primary-color: #0d6efd;
            --accent-color: #fd7e14;
            --highlight-color: #ff0019;
            --success-color: #1eff00;
            --navbar-height: 72px;
            
            /* ‡∏™‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö navbar animation */
            --color-1: #4e54c8;
            --color-2: #8f94fb;
            --color-3: #bc4e9c;
            --color-4: #f80759;
            --color-5: #11998e;
            --color-6: #38ef7d;
        }

        .dark-mode {
            --bs-body-bg: #121212;
            --bs-body-color: #e0e0e0;
            --bs-card-bg: #1e1e1e;
            --bs-card-border-color: #333;
            --primary-color: #835ce7;
            --accent-color: #ff9f43;
            --highlight-color: #ff6b6b;
            --success-color: #00e676;
            
            /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏´‡∏•‡∏±‡∏Å: #1E293B; /* Deep Charcoal */
            --color-1: #000000;
            /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏á/‡πÄ‡∏ô‡πâ‡∏ô (Gradient Start): #374151; /* Slate Gray */
            --color-2: #028400;
            /* ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö (Gradient End): #4B5563; /* Grayish Blue */
            --color-3: #0ac300;
            /* ‡∏™‡∏µ‡πÄ‡∏ô‡πâ‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡∏ô/‡πÇ‡∏ï‡πâ‡∏ï‡∏≠‡∏ö (Bright Accent): #6EE7B7; /* Mint Green */
            --color-4: #00ff1e;
            /* ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å (Light Text): #F9FAFB; /* Off-White */
            --color-5: #6aff00;
            /* ‡∏™‡∏µ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°/‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå (Subtle Accent): #A1A1AA; /* Medium Gray */
            --color-6: #eeff00;
        }

        body {
            font-family: 'Sarabun', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            padding-top: var(--navbar-height); /* ‡πÉ‡∏´‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö navbar fixed-top */
        }

        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--navbar-height);
            z-index: 1030;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .navbar-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 200%;
            height: 100%;
            background: linear-gradient(
                90deg,
                var(--color-1),
                var(--color-2),
                var(--color-3),
                var(--color-4),
                var(--color-5),
                var(--color-6),
                var(--color-1)
            );
            animation: animateGradient 12s linear infinite;
            z-index: -1;
        }
        
        @keyframes animateGradient {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(-50%);
            }
        }
        
        .navbar-reading .navbar-bg {
            animation-duration: 6s !important; /* ‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡πà‡∏≤‡∏ô */
        }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô gradient */
        .navbar .navbar-brand, 
        .navbar .nav-link,
        .navbar .navbar-text,
        .navbar-toggler-icon {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
        }

        .navbar-brand i {
            font-size: 1.2rem;
        }

        .nav-link {
            font-weight: 500;
            position: relative;
            padding: 0.5rem 1rem;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: white;
            transition: width 0.3s ease;
        }

        .nav-link:hover::after {
            width: 100%;
        }

        .card {
            transition: background-color 0.3s, border-color 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            margin-bottom: 1.5rem;
            border-radius: 0.75rem;
        }

        .dark-mode .card {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .display-word {
            font-size: 3rem;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 400;
            line-height: 1.3;
            padding: 10px;
        }

        .highlight {
            color: var(--highlight-color);
            font-weight: 700;
        }

        .btn-theme {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            transition: transform 0.3s ease, background 0.3s ease;
        }

        .btn-theme:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(30deg);
        }

        .timer {
            background-color: var(--accent-color);
            color: white;
            border-radius: 0.25rem;
            padding: 0.25rem 0.75rem;
            font-weight: bold;
            margin-left: 1rem;
        }

        @media (max-width: 768px) {
            .display-word {
                font-size: 2rem;
                min-height: 100px;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="navbar-bg"></div>
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-book-reader"></i>
                Speed Reader
            </a>
            <button id="theme-toggle" class="btn-theme">
                <i class="fas fa-sun text-white"></i>
            </button>
        </div>
    </nav>

    <div class="container py-4">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h5>
            </div>
            <div class="card-body">
                <textarea id="text-input" class="form-control mb-3" rows="4" 
                    placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà..."></textarea>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h5 class="mb-0">‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="speed" class="form-label fw-bold">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (‡∏Ñ‡∏≥‡∏ï‡πà‡∏≠‡∏ô‡∏≤‡∏ó‡∏µ)</label>
                    <div class="d-flex align-items-center">
                        <input type="range" class="form-range me-3" id="speed" min="50" max="2000" step="10" value="300">
                        <span id="speed-value" class="badge bg-primary px-3 py-2">300</span>
                    </div>
                </div>

                <div class="d-flex flex-wrap gap-2">
                    <button id="start" class="btn btn-primary">
                        <i class="fas fa-play me-2"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô
                    </button>
                    <button id="pause" class="btn btn-warning">
                        <i class="fas fa-pause me-2"></i> ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
                    </button>
                    <button id="reset" class="btn btn-secondary">
                        <i class="fas fa-redo me-2"></i> ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
                    </button>
                    <a href="index.html" id="goindex" class="btn btn-success">
                        <i class="fas fa-home me-2"></i> ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡∏Ñ‡∏≥
                    </a>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0">‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</h5>
                <div id="timer" class="timer d-none">00:00</div>
            </div>
            <div class="card-body">
                <div id="display" class="display-word text-center">‡∏Ñ‡∏≥‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
                <div class="progress mt-3" style="height: 8px;">
                    <div id="progress-bar" class="progress-bar" role="progressbar" style="width: 0%"></div>
                </div>
                <div class="d-flex justify-content-between mt-2 text-muted small">
                    <span id="current-word">0</span>
                    <span id="total-words">0 ‡∏Ñ‡∏≥</span>
                </div>
            </div>
        </div>

        <div class="card" id="tips">
            <div class="card-header">
                <h5 class="mb-0">‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß</h5>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">‡∏Å‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô ‡∏ß‡∏±‡∏ô‡∏•‡∏∞ 10-15 ‡∏ô‡∏≤‡∏ó‡∏µ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î</li>
                    <li class="list-group-item">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏™‡∏ö‡∏≤‡∏¢ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏ó‡∏µ‡∏•‡∏∞ 50 ‡∏Ñ‡∏≥‡∏ï‡πà‡∏≠‡∏ô‡∏≤‡∏ó‡∏µ</li>
                    <li class="list-group-item">‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÑ‡∏°‡πà‡∏≠‡πà‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÉ‡∏ô‡πÉ‡∏à (subvocalization) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß</li>
                    <li class="list-group-item">‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à ‡∏•‡∏≠‡∏á‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÉ‡∏î</li>
                </ul>
            </div>
        </div>

        <div class="card" id="about">
            <div class="card-header">
                <h5 class="mb-0">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°</h5>
            </div>
            <div class="card-body">
                <p class="mb-0">Speed Reader ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏ó‡∏µ‡∏•‡∏∞‡∏Ñ‡∏≥ ‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ ‡πÅ‡∏•‡∏∞‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ó‡∏±‡∏Å‡∏©‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô</p>
            </div>
        </div>
    </div>

    <footer class="py-3 text-center text-muted">
        <div class="container">
            <p class="mb-0">Speed Reader ¬© 2025 - ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô</p>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö UI
            const startButton = document.getElementById('start');
            const pauseButton = document.getElementById('pause');
            const resetButton = document.getElementById('reset');
            const speedSlider = document.getElementById('speed');
            const speedValue = document.getElementById('speed-value');
            const textInput = document.getElementById('text-input');
            const displayArea = document.getElementById('display');
            const progressBar = document.getElementById('progress-bar');
            const currentWordElement = document.getElementById('current-word');
            const totalWordsElement = document.getElementById('total-words');
            const themeToggle = document.getElementById('theme-toggle');
            const timerElement = document.getElementById('timer');
            const navbar = document.querySelector('.navbar');

            // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
            let words = [];
            let currentWordIndex = 0;
            let isPlaying = false;
            let timerId;
            let isDarkMode = false;

            // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
            let startTime;
            let elapsedTime = 0;
            let timerInterval;

            // Smooth scrolling ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÉ‡∏ô navbar
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        e.preventDefault();
                        const navbarHeight = navbar.offsetHeight;
                        window.scrollTo({
                            top: target.offsetTop - navbarHeight - 16, // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Ç‡∏≠‡∏á navbar
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏°
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');
                isDarkMode = document.body.classList.contains('dark-mode');
                themeToggle.innerHTML = isDarkMode ? 
                    '<i class="fas fa-moon text-white"></i>' : 
                    '<i class="fas fa-sun text-white"></i>';
                localStorage.setItem('darkMode', isDarkMode);
            });

            // ‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ò‡∏µ‡∏°‡∏à‡∏≤‡∏Å localStorage
            if (localStorage.getItem('darkMode') === 'true') {
                document.body.classList.add('dark-mode');
                themeToggle.innerHTML = '<i class="fas fa-moon text-white"></i>';
                isDarkMode = true;
            }

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß
            speedSlider.addEventListener('input', function() {
                speedValue.textContent = speedSlider.value;
                if (isPlaying) {
                    pauseReading();
                    startReading();
                }
            });

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô
            startButton.addEventListener('click', function() {
                if (!isPlaying) {
                    startReading();
                    startTimer();
                    navbar.classList.add('navbar-reading');
                }
            });

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            pauseButton.addEventListener('click', function() {
                if (isPlaying) {
                    pauseReading();
                    pauseTimer();
                    navbar.classList.remove('navbar-reading');
                }
            });

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
            resetButton.addEventListener('click', function() {
                resetReading();
                resetTimer();
                navbar.classList.remove('navbar-reading');
            });

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
            textInput.addEventListener('input', function() {
                resetReading();
                resetTimer();
                processText();
                updateWordCount();
            });

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏≠‡πà‡∏≤‡∏ô
            function startReading() {
                if (currentWordIndex >= words.length) {
                    resetReading();
                }

                if (words.length === 0) {
                    processText();
                }

                if (words.length === 0) return;

                isPlaying = true;
                let speed = parseInt(speedSlider.value);
                let interval = 60000 / speed; // ‡πÅ‡∏õ‡∏•‡∏á WPM ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏•‡∏•‡∏¥‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ

                timerId = setInterval(function() {
                    if (currentWordIndex < words.length) {
                        displayWord(words[currentWordIndex]);
                        updateProgress();
                        currentWordIndex++;
                    } else {
                        pauseReading();
                        pauseTimer();
                        displayArea.innerHTML = '<span class="text-success">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô! üéâ</span>';
                    }
                }, interval);
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏¢‡∏∏‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            function pauseReading() {
                clearInterval(timerId);
                isPlaying = false;
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
            function resetReading() {
                pauseReading();
                currentWordIndex = 0;
                updateProgress();
                displayArea.textContent = "‡∏Ñ‡∏≥‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà";
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
            function processText() {
                const text = textInput.value.trim();
                if (text) {
                    // ‡πÉ‡∏ä‡πâ Intl.Segmenter ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
                    if (window.Intl && Intl.Segmenter) {
                        try {
                            const segmenter = new Intl.Segmenter('th', { granularity: 'word' });
                            words = Array.from(segmenter.segment(text))
                                .filter(seg => seg.segment.trim().length > 0)
                                .map(seg => seg.segment);
                        } catch (e) {
                            // Fallback ‡∏ñ‡πâ‡∏≤ Segmenter ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
                            fallbackTextProcessing(text);
                        }
                    } else {
                        fallbackTextProcessing(text);
                    }
                    updateWordCount();
                } else {
                    words = [];
                    updateWordCount();
                }
            }
            
            // Fallback ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡πâ‡∏≤ Intl.Segmenter ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö
            function fallbackTextProcessing(text) {
                // ‡πÅ‡∏¢‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏Å‡∏Ç‡∏£‡∏∞‡∏û‡∏¥‡πÄ‡∏®‡∏©
                const splitPattern = /[\s\.\,\;\:\!\?\(\)\[\]\{\}\"\'\-\+\=\_\<\>\/\|\\\~\`\@\#\$\%\^\\&\*]+/;
                words = text.split(splitPattern).filter(word => word.length > 0);
            }

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥
            function updateWordCount() {
                totalWordsElement.textContent = words.length + ' ‡∏Ñ‡∏≥';
                currentWordElement.textContent = '0';
            }

            // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô
            function updateProgress() {
                if (words.length === 0) {
                    progressBar.style.width = '0%';
                    currentWordElement.textContent = '0';
                    return;
                }
                
                const progress = (currentWordIndex / words.length) * 100;
                progressBar.style.width = progress + '%';
                currentWordElement.textContent = currentWordIndex;
            }

            // ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏≥‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
            function displayWord(word) {
                if (!word || word.length === 0) {
                    displayArea.textContent = "";
                    return;
                }
                
                // ‡πÄ‡∏ô‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≥
                let orp = Math.max(1, Math.floor(word.length / 3));
                const pre = word.substring(0, orp);
                const highlight = word.substring(orp, orp + 1);
                const post = word.substring(orp + 1);
                displayArea.innerHTML = pre + '<span class="highlight">' + highlight + '</span>' + post;
            }

            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤
            function startTimer() {
                timerElement.classList.remove('d-none');
                if (!startTime) {
                    startTime = Date.now() - elapsedTime;
                }
                timerInterval = setInterval(updateTimer, 1000);
            }

            function pauseTimer() {
                clearInterval(timerInterval);
                elapsedTime = Date.now() - startTime;
            }

            function resetTimer() {
                clearInterval(timerInterval);
                timerElement.textContent = "00:00";
                timerElement.classList.add('d-none');
                startTime = null;
                elapsedTime = 0;
            }

            function updateTimer() {
                const currentTime = Date.now();
                elapsedTime = currentTime - startTime;
                
                // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ‡∏ô‡∏≤‡∏ó‡∏µ:‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
                const minutes = Math.floor(elapsedTime / 60000);
                const seconds = Math.floor((elapsedTime % 60000) / 1000);
                
                timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }

            // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö
            processText();
            updateWordCount();
        });
    </script>
</body>

</html>